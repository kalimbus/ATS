<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarım Yönetim Sistemi</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        .navbar {
            background-color: #4CAF50;
            padding: 15px;
            text-align: right;
        }
        .navbar button {
            background-color: white;
            color: #4CAF50;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
        .container { width: 50%; margin: 20px auto; padding: 20px; border: 1px solid #ddd; }
        input, button { display: block; margin: 10px 0; padding: 10px; width: 100%; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="navbar">
        <button onclick="showRegister()">Kayıt Ol</button>
        <button onclick="showLogin()">Giriş Yap</button>
    </div>

    <div class="container hidden" id="registerContainer">
        <h2>Kayıt Ol</h2>
        <input type="text" placeholder="Kullanıcı Adı" id="regUsername">
        <input type="password" placeholder="Şifre" id="regPassword">
        <button onclick="register()">Kayıt Ol</button>
    </div>

    <div class="container hidden" id="loginContainer">
        <h2>Giriş Yap</h2>
        <input type="text" placeholder="Kullanıcı Adı" id="username">
        <input type="password" placeholder="Şifre" id="password">
        <button onclick="login()">Giriş</button>
    </div>

    <div class="container hidden" id="content">
        <h2>Ekim Alanı Ekle</h2>
        <input type="text" placeholder="Alan Adı" id="fieldName">
        <button onclick="addField()">Ekle</button>
    </div>

    <div class="container hidden" id="cropContent">
        <h2>Ekine Sulama ve Gübreleme Bilgisi Ekle</h2>
        <input type="text" placeholder="Ekim Alanı" id="cropField">
        <input type="text" placeholder="Sulama Bilgisi" id="watering">
        <input type="text" placeholder="Gübreleme Bilgisi" id="fertilizer">
        <input type="date" id="date">
        <button onclick="addCropData()">Kaydet</button>
    </div>

    <script>
        function showRegister() {
            document.getElementById('registerContainer').classList.remove('hidden');
            document.getElementById('loginContainer').classList.add('hidden');
        }

        function showLogin() {
            document.getElementById('loginContainer').classList.remove('hidden');
            document.getElementById('registerContainer').classList.add('hidden');
        }

        function register() {
            let regUsername = document.getElementById('regUsername').value;
            let regPassword = document.getElementById('regPassword').value;
            let users = JSON.parse(localStorage.getItem('users')) || [];
            
            if (users.some(user => user.username === regUsername)) {
                alert('Bu kullanıcı adı zaten mevcut!');
                return;
            }
            
            users.push({ username: regUsername, password: regPassword });
            localStorage.setItem('users', JSON.stringify(users));
            alert('Kayıt başarılı!');
        }

        function login() {
            let username = document.getElementById('username').value;
            let password = document.getElementById('password').value;
            let users = JSON.parse(localStorage.getItem('users')) || [];
            
            let user = users.find(user => user.username === username && user.password === password);
            if (user) {
                localStorage.setItem('loggedInUser', username);
                alert('Giriş başarılı!');
                document.getElementById('content').classList.remove('hidden');
                document.getElementById('cropContent').classList.remove('hidden');
            } else {
                alert('Hatalı kullanıcı adı veya şifre!');
            }
        }

        function addField() {
            let fieldName = document.getElementById('fieldName').value;
            let fields = JSON.parse(localStorage.getItem('fields')) || [];
            fields.push(fieldName);
            localStorage.setItem('fields', JSON.stringify(fields));
            alert('Alan eklendi');
        }

        function addCropData() {
            let cropField = document.getElementById('cropField').value;
            let watering = document.getElementById('watering').value;
            let fertilizer = document.getElementById('fertilizer').value;
            let date = document.getElementById('date').value;
            let cropData = JSON.parse(localStorage.getItem('cropData')) || [];
            cropData.push({ cropField, watering, fertilizer, date });
            localStorage.setItem('cropData', JSON.stringify(cropData));
            alert('Veri kaydedildi');
        }

        window.onload = function() {
            let loggedInUser = localStorage.getItem('loggedInUser');
            if (loggedInUser) {
                document.getElementById('content').classList.remove('hidden');
                document.getElementById('cropContent').classList.remove('hidden');
            }
        }
    </script>
</body>
</html>