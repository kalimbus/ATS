<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akıllı Tarım Sistemi</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; text-align: center; }
        .navbar {
            background-color: #4CAF50;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .navbar h1 {
            color: white;
            margin: 0;
            padding-left: 15px;
        }
        .nav-buttons {
            display: flex;
            gap: 10px;
            padding-right: 15px;
        }
        .nav-buttons button {
            background-color: white;
            color: #4CAF50;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
        }
        .container { width: 80%; margin: auto; padding: 20px; text-align: left; }
        input, button { display: block; margin: 10px auto; padding: 10px; width: 90%; }
        .hidden { display: none; }
        .ekin { border: 1px solid #ddd; padding: 10px; margin: 10px; }
        #weather { margin: 20px; padding: 10px; border: 1px solid #ddd; }
    </style>
</head>
<body>
    <div class="navbar">
        <h1>ATS (Akıllı Tarım Sistemi)</h1>
        <div class="nav-buttons">
            <button onclick="showRegister()">Kayıt Ol</button>
            <button onclick="showLogin()">Giriş Yap</button>
        </div>
    </div>
    
    <div class="container hidden" id="registerContainer">
        <h2>Kayıt Ol</h2>
        <input type="email" placeholder="E-posta" id="regEmail">
        <input type="password" placeholder="Şifre" id="regPassword">
        <button onclick="register()">Kayıt Ol</button>
    </div>

    <div class="container hidden" id="loginContainer">
        <h2>Giriş Yap</h2>
        <input type="email" placeholder="E-posta" id="email">
        <input type="password" placeholder="Şifre" id="password">
        <button onclick="login()">Giriş</button>
    </div>

    <div class="container hidden" id="farmsContainer">
        <h2>Ekinlerim</h2>
        <p>Burada ekili alanlarınız listelenecek.</p>
    </div>
    
    <div class="container" id="infoContainer">
        <h2>Biz Kimiz?</h2>
        <p>ATS, tarımın geleceğini şekillendirmeyi hedefleyen iki lise öğrencisi tarafından kurulan bir girişimdir. Tarıma olan ilgimiz ve sürdürülebilir üretimin önemine duyduğumuz inançla yola çıktık. Tarım, insanlığın en temel ihtiyaçlarını karşılayan bir sektör olmasına rağmen, modern dünyada hak ettiği değeri görememektedir. Bizler, teknolojinin sunduğu imkanları tarımla buluşturarak bu alanda yeni ve yenilikçi çözümler üretmeyi amaçlıyoruz.

            Günümüzde çiftçiler, yüksek maliyetler, iklim değişikliği ve pazarlama sorunları gibi birçok engelle karşı karşıya kalmaktadır. ATS olarak, çiftçilerin üretim süreçlerini daha verimli hale getirmelerine yardımcı olacak çözümler geliştirmeyi hedefliyoruz. Aynı zamanda, tüketicilerin güvenilir ve kaliteli ürünlere daha kolay erişmesini sağlamak için şeffaf ve güvenilir bir sistem oluşturmayı planlıyoruz.
            
            Tarım, sadece çiftçilerin değil, tüm toplumun ortak geleceğini ilgilendiren bir konudur. Gıda güvenliği, sürdürülebilir üretim ve doğal kaynakların verimli kullanımı gibi faktörler, geleceğimizi doğrudan etkilemektedir. Biz, bu bilinçle hareket ederek tarımda fark yaratmayı ve sektöre yenilikçi bir bakış açısı kazandırmayı amaçlıyoruz.</p>
        
        <h2>Hedeflerimiz</h2>
        <ul>
            <li>Üretici ile tüketici arasında güven bağının sağlanması ve doğrudan iletişimin artırılması: Günümüzde tarım sektöründe üretici ile tüketici arasındaki güven eksikliği, aracılar nedeniyle büyük bir soruna dönüşmektedir. ATS olarak, doğrudan üreticiden tüketiciye ulaşan bir sistem oluşturmayı ve tüketicilerin aldığı ürünlerin güvenilirliğini artırmayı hedefliyoruz.</li>
            <li>Çiftçilerin ekinlerine daha rahat ve bilinçli bir şekilde bakabilmesi için modern çözümler sunmak: Tarımsal üretimin verimliliğini artırmak için çiftçilerin ihtiyaç duyduğu bilgiye erişimini kolaylaştıracak sistemler geliştirmeyi amaçlıyoruz. Dijital tarım teknolojileriyle çiftçilerin ekinlerini daha etkin bir şekilde takip etmelerini sağlamak istiyoruz.</li>
            <li>Tarımsal üretimde verimliliği artırarak hem çiftçilerin kazancını hem de tüketicilerin kaliteli ürüne erişimini kolaylaştırmak: Çiftçilerin yüksek maliyetler ve düşük satış fiyatları nedeniyle yaşadığı sıkıntıları azaltmak için doğrudan satış modelleri üzerinde çalışıyoruz. Böylece çiftçilerin kazancı artarken, tüketiciler de daha uygun fiyatlarla kaliteli ürünlere ulaşabilecek.</li>
            <li>Dijitalleşme ile tarımda bilgi paylaşımını artırarak çiftçilerin daha bilinçli kararlar almasını sağlamak: Tarımsal üretim süreçlerinde en önemli unsurlardan biri de doğru bilginin zamanında çiftçiye ulaşmasıdır. ATS olarak, çiftçilere yönelik eğitim ve bilgilendirme platformları oluşturarak bilinçli üretimi teşvik etmeyi hedefliyoruz.</li>
        </ul>
        
        <h2>Tarımda Gerçekler</h2>
        <p>Türkiye, verimli toprakları ve uygun iklimiyle tarımsal üretimde büyük bir potansiyele sahiptir. Ancak son yıllarda tarım sektörü birçok zorlukla karşı karşıya kalmıştır. Küçük ölçekli çiftçilerin üretim maliyetleri artarken, ithalat politikaları yerli üretimi zor duruma sokmaktadır. Bunun yanı sıra, iklim değişikliği ve su kaynaklarının azalması gibi çevresel faktörler de tarımsal verimliliği etkilemektedir.</p>
            <li>İklim Değişikliği ve Su Kaynakları: Küresel ısınma ve kuraklık, tarımsal üretimi ciddi şekilde tehdit etmektedir. Özellikle su kaynaklarının azalması, birçok bölgede tarımın sürdürülebilirliğini zorlaştırmaktadır. Modern sulama tekniklerinin yaygınlaştırılması ve suyun verimli kullanılması gerekmektedir.</li>
            <li>Artan Maliyetler: Çiftçiler, gübre, tohum, mazot ve işçilik gibi maliyetlerin sürekli artması nedeniyle üretimde zorlanmaktadır. Tarım politikalarının bu maliyetleri azaltacak şekilde düzenlenmesi büyük önem taşımaktadır.</li>
            <li>racılar ve Pazarlama Sorunları: Üreticiler, ürünlerini doğrudan tüketiciye ulaştıramadıkları için aracılar nedeniyle düşük fiyatlara satmak zorunda kalmaktadır. Bunun sonucunda çiftçiler yeterli kazanç sağlayamazken, tüketiciler de ürünleri pahalıya almak zorunda kalmaktadır. Üreticinin doğrudan satış yapabileceği modeller geliştirilmelidir.</li>
            <li>İthalat Politikaları: Son yıllarda tarım ürünlerinde ithalatın artması, yerli üreticiyi zor durumda bırakmaktadır. Çiftçilerin rekabet edebilmesi için yerli üretimi teşvik eden politikaların uygulanması gerekmektedir.</li>
            <li>Dijital Tarımın Eksikliği: Gelişmiş ülkelerde yaygın olarak kullanılan dijital tarım uygulamaları, Türkiye’de henüz yeterince benimsenmemiştir. Tarımsal üretimde teknolojinin yaygınlaştırılması, çiftçilerin daha bilinçli ve verimli üretim yapmalarına katkı sağlayacaktır.</li>
        <p>Dijital Tarımın Eksikliği: Gelişmiş ülkelerde yaygın olarak kullanılan dijital tarım uygulamaları, Türkiye’de henüz yeterince benimsenmemiştir. Tarımsal üretimde teknolojinin yaygınlaştırılması, çiftçilerin daha bilinçli ve verimli üretim yapmalarına katkı sağlayacaktır.</p>
             
        <h2>Ekibimiz</h2>
        <p>ATS ekibi olarak bizler, tarımın geleceğini iyileştirmek için çalışan iki lise öğrencisiyiz. Farklı alanlarda edindiğimiz bilgi ve deneyimleri bir araya getirerek tarımda yenilikçi çözümler geliştirmeyi amaçlıyoruz. Teknolojiye olan ilgimiz ve tarımın sürdürülebilirliğine duyduğumuz inanç, bizi bu projeyi hayata geçirmeye motive etti. Tarımsal üreticilere ve tüketicilere daha iyi bir sistem sunabilmek için çalışmalarımıza hız kesmeden devam ediyoruz. </p>
        
    </div>

    <script>
        function showRegister() {
            document.getElementById('registerContainer').classList.remove('hidden');
            document.getElementById('loginContainer').classList.add('hidden');
            document.getElementById('infoContainer').classList.add('hidden');
        }
        
        function showLogin() {
            document.getElementById('loginContainer').classList.remove('hidden');
            document.getElementById('registerContainer').classList.add('hidden');
            document.getElementById('infoContainer').classList.add('hidden');
        }

        function register() {
            let email = document.getElementById('regEmail').value;
            let password = document.getElementById('regPassword').value;
            
            if (!email || !password) {
                alert("Lütfen tüm alanları doldurun.");
                return;
            }
            
            if (!email.endsWith("@gmail.com")) {
                alert("Lütfen geçerli bir @gmail.com adresi girin.");
                return;
            }
            
            if (localStorage.getItem(email)) {
                alert("Bu e-posta kullanımda.");
                return;
            }
            
            localStorage.setItem(email, password);
            alert('Kayıt başarılı! Giriş yapabilirsiniz.');
            showLogin();
        }

        function login() {
            let email = document.getElementById('email').value;
            let password = document.getElementById('password').value;
            let storedPassword = localStorage.getItem(email);
            
            if (!email || !password) {
                alert("Lütfen tüm alanları doldurun.");
                return;
            }
            
            if (storedPassword === password) {
                alert('Giriş başarılı!');
                document.getElementById('loginContainer').classList.add('hidden');
                document.getElementById('farmsContainer').classList.remove('hidden');
            } else {
                alert('Hatalı e-posta veya şifre.');
            }
        }

        function showRegister() {
    document.getElementById('registerContainer').classList.remove('hidden');
    document.getElementById('loginContainer').classList.add('hidden');
    document.getElementById('farmsContainer').classList.add('hidden');
    document.getElementById('infoContainer').classList.add('hidden');
    
    // Sayfa geçmişine kayıt ekle
    history.pushState({ page: "register" }, "", "#register");
}

function showLogin() {
    document.getElementById('loginContainer').classList.remove('hidden');
    document.getElementById('registerContainer').classList.add('hidden');
    document.getElementById('farmsContainer').classList.add('hidden');
    document.getElementById('infoContainer').classList.add('hidden');
    
    // Sayfa geçmişine kayıt ekle
    history.pushState({ page: "login" }, "", "#login");
}

function updateUIAfterLogin(username) {
    if (!username) return;
    
    currentUser = username; // Kullanıcıyı güncelle
    localStorage.setItem('currentUser', username);

    let authContainer = document.getElementById('authContainer');
    if (authContainer) {
        authContainer.innerHTML = `<span>Merhaba, ${username}</span> 
            <button onclick="logout()">Çıkış Yap</button>`;
    }

    document.getElementById('loginContainer').classList.add('hidden');
    document.getElementById('registerContainer').classList.add('hidden');
    document.getElementById('infoContainer').classList.remove('hidden');
    document.getElementById('farmsContainer').classList.remove('hidden');

    loadUserCrops();
}


// Tarayıcının geri butonuna basıldığında ana sayfayı göster
window.onpopstate = function(event) {
    document.getElementById('registerContainer').classList.add('hidden');
    document.getElementById('loginContainer').classList.add('hidden');
    document.getElementById('farmsContainer').classList.add('hidden');
    document.getElementById('infoContainer').classList.remove('hidden');
};

window.onpopstate = function(event) {
    document.getElementById('registerContainer').classList.add('hidden');
    document.getElementById('loginContainer').classList.add('hidden');
    document.getElementById('farmsContainer').classList.add('hidden');
    document.getElementById('infoContainer').classList.remove('hidden');
};
let currentUser = localStorage.getItem('currentUser') || null;
let userCrops = JSON.parse(localStorage.getItem('userCrops')) || {}; // Kullanıcı bazlı ekinler

// İl ve ilçe verisi
const cities = {
    "İstanbul": ["Kadıköy", "Beşiktaş", "Üsküdar", "Bakırköy"],
    "Ankara": ["Çankaya", "Keçiören", "Mamak", "Altındağ"],
    "İzmir": ["Konak", "Karşıyaka", "Bornova", "Buca"],
    "Bursa": ["Osmangazi", "Yıldırım", "Nilüfer", "Gürsu"]
};

const cropVarieties = {
    "Domates": ["Çeri Domates", "Salkım Domates", "Pembe Domates"],
    "Biber": ["Yeşil Biber", "Kırmızı Biber", "Dolmalık Biber"],
    "Patlıcan": ["Uzun Patlıcan", "Topan Patlıcan"]
};

document.addEventListener("DOMContentLoaded", function() {
    document.addEventListener("DOMContentLoaded", function() {
    let storedUser = localStorage.getItem('currentUser');
    if (storedUser) {
        updateUIAfterLogin(storedUser);
    }
});

    let farmsContainer = document.getElementById('farmsContainer');
    let cropList = document.createElement("ul");
    cropList.id = "cropList";
    farmsContainer.appendChild(cropList);
    
    let addCropButton = document.createElement("button");
    addCropButton.textContent = "Ekin Ekle";
    addCropButton.onclick = function() {
        if (!currentUser) {
            alert("Önce giriş yapmalısınız!");
            return;
        }
        
        let cropSelect = document.createElement("select");
        cropSelect.style.width = "150px";
        let crops = Object.keys(cropVarieties);
        crops.forEach(crop => {
            let option = document.createElement("option");
            option.value = crop;
            option.textContent = crop;
            cropSelect.appendChild(option);
        });

        let varietySelect = document.createElement("select");
        varietySelect.style.width = "150px";
        varietySelect.innerHTML = "<option>Tür Seç</option>";

        cropSelect.onchange = function() {
            let selectedCrop = cropSelect.value;
            varietySelect.innerHTML = "";
            cropVarieties[selectedCrop].forEach(variety => {
                let option = document.createElement("option");
                option.value = variety;
                option.textContent = variety;
                varietySelect.appendChild(option);
            });
        };

        let dateInput = document.createElement("input");
        dateInput.type = "date";
        dateInput.placeholder = "Ekim Tarihi";

        let citySelect = document.createElement("select");
        let districtSelect = document.createElement("select");
        citySelect.innerHTML = "<option>İl Seç</option>";
        districtSelect.innerHTML = "<option>İlçe Seç</option>";
        
        for (let city in cities) {
            let option = document.createElement("option");
            option.value = city;
            option.textContent = city;
            citySelect.appendChild(option);
        }
        citySelect.onchange = function() {
            let selectedCity = citySelect.value;
            districtSelect.innerHTML = "<option>İlçe Seç</option>";
            cities[selectedCity].forEach(district => {
                let option = document.createElement("option");
                option.value = district;
                option.textContent = district;
                districtSelect.appendChild(option);
            });
        };

        let areaInput = document.createElement("input");
        areaInput.type = "number";
        areaInput.placeholder = "Alan (m²)";

        let confirmButton = document.createElement("button");
        confirmButton.textContent = "Ekle";
        confirmButton.onclick = function() {
            let selectedCrop = cropSelect.value;
            let selectedVariety = varietySelect.value;
            let cropItem = document.createElement("li");
            cropItem.textContent = `${selectedCrop} (${selectedVariety}) - ${dateInput.value} - ${citySelect.value}/${districtSelect.value} - ${areaInput.value}m²`;
            
            let editButton = document.createElement("button");
            editButton.textContent = "Düzenle";
            editButton.onclick = function() {
                cropSelect.value = selectedCrop;
                varietySelect.value = selectedVariety;
            };
            
            let deleteButton = document.createElement("button");
            deleteButton.textContent = "Sil";
            deleteButton.onclick = function() {
                if (confirm("Bu ekini silmek istediğinizden emin misiniz?")) {
                    cropList.removeChild(cropItem);
                }
            };
            
            cropItem.appendChild(editButton);
            cropItem.appendChild(deleteButton);
            cropList.appendChild(cropItem);
            
            if (!userCrops[currentUser]) userCrops[currentUser] = [];
            userCrops[currentUser].push(cropItem.textContent);
            localStorage.setItem('userCrops', JSON.stringify(userCrops));
            alert("Ürün başarıyla eklendi!");
        };

        farmsContainer.appendChild(cropSelect);
        farmsContainer.appendChild(varietySelect);
        farmsContainer.appendChild(dateInput);
        farmsContainer.appendChild(citySelect);
        farmsContainer.appendChild(districtSelect);
        farmsContainer.appendChild(areaInput);
        farmsContainer.appendChild(confirmButton);
    };
    farmsContainer.appendChild(addCropButton);
    updateUIAfterLogin(currentUser);
});

function updateUIAfterLogin(username) {
    if (!username) return;
    currentUser = username;
    localStorage.setItem('currentUser', username);
    let authContainer = document.getElementById('authContainer');
    authContainer.innerHTML = `<span>Merhaba, ${username}</span> <button onclick="logout()">Çıkış Yap</button>`;
    loadUserCrops();
}

function logout() {
    currentUser = null;
    localStorage.removeItem('currentUser');
    let authContainer = document.getElementById('authContainer');
    authContainer.innerHTML = '<button onclick="showLogin()">Giriş Yap</button> <button onclick="showRegister()">Kayıt Ol</button>';
    document.getElementById('cropList').innerHTML = "";
}

function loadUserCrops() {
    let cropList = document.getElementById('cropList');
    cropList.innerHTML = "";
    if (userCrops[currentUser]) {
        userCrops[currentUser].forEach(crop => {
            let cropItem = document.createElement("li");
            cropItem.textContent = crop;
            cropList.appendChild(cropItem);
        });
    }
}


    </script>
</body>
</html>